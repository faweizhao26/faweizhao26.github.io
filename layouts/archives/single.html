{{ define "main" }}
  <header class="mt-5">
    <h1 class="mt-5 text-4xl font-extrabold text-neutral-900 dark:text-neutral">{{ .Title }}</h1>
  </header>

  {{ if .Content }}
    <section class="mt-6 prose dark:prose-invert">
      {{ .Content }}
    </section>
  {{ end }}

  {{ $sections := site.Params.mainSections | default (slice "posts") }}
  {{ $pages := where .Site.RegularPages "Section" "in" $sections }}
  {{ $pages = $pages.ByDate.Reverse }}

  <section class="mt-10 space-y-10">
    {{ range ($pages.GroupByDate "2006") }}
      <div>
        <h2 class="text-2xl font-bold text-neutral-700 dark:text-neutral-300">{{ .Key }}</h2>
        <ul class="mt-4 space-y-2">
          {{ range .Pages }}
            <li class="flex flex-wrap items-baseline gap-3">
              <time class="text-sm text-neutral-500 dark:text-neutral-400" datetime="{{ .Date.Format "2006-01-02" }}">
                {{ .Date.Format "2006-01-02" }}
              </time>
              <a class="text-neutral-800 hover:underline hover:underline-offset-2 dark:text-neutral-100" href="{{ .RelPermalink }}">
                {{ .Title }}
              </a>
            </li>
          {{ end }}
        </ul>
      </div>
    {{ end }}
  </section>
{{ end }}
